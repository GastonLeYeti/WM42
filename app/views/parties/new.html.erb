<%#= render "composants/navbar" %>
<div class="container">
  <%# <div class="row title">
    <div class="col s12">
      <h1>Créer une partie</h1>
    </div>
  </div> %>
  <div data-controller="form">
    <div class="row progress-row">
      <div class="steps">
        <span class="active" data-form-target="stepper1">First</span>
        <span data-form-target="stepper2">Second</span>
        <span data-form-target="stepper3">Third</span>
      </div>
      <div class="progress">
        <div class="determinate" style="width: 10%" data-form-target="stepperBar"></div>
      </div>      
    </div>
    <div class="row" >
      <div class="col s12">
        <%= simple_form_for @party do |f| %>
          <%# Partie 1 %>

            <div class="first_section">
              <div class="row-m-0 d-flex gap-10">
                <div class="input-field grow">
                  <%= f.input :name, placeholder: 'Choisissez un nom pour votre partie', label: 'Nom de la partie', class: 'party_name' %>
                </div>
              </div>
            </div>
            <div class="row mt-0 form-section-1" data-form-target="section1">
              <div class="first-column col s6">
                <h5> Durée de la partie </h5>
                  <div class="form-sizes">
                    <%= f.input :party_size,
                    placeholder: 'Durée de la partie',
                    label: 'Durée de la partie',
                    collection: Party::SIZE_OF_PARTIES,
                    as: :radio_buttons,
                    input_html: { class: "tag-selector" },
                    wrapper_html: {class: 'grid-3-cols'},
                    item_wrapper_class: 'tag-item' %>
                  </div>

                <h5 class="mt-4"> Choisissez un univers </h5>
                <div class="form-universes">
                  <%= f.association :universe,
                  placeholder: "Univers",
                  label: "Univers",
                  as: :radio_buttons,
                  input_html: { class: "tag-selector" },
                  item_wrapper_class: 'tag-item' %>
                </div>
              </div>

              <div class="second-column col s6">
                <h5> Indiquez le nom des joueurs (hors MJ) </h5>
                <% (1..6).each do |i| %>
                  <div class="input-field col s6">
                    <%= f.input "player_#{i}", label: "Joueur #{i}", placeholder: "Joueur #{i}" %>
                  </div>
                <% end %>
                <div class="btn mt-2 w-90" data-form-target="formBtn1" data-action="click->form#hideSection1">Suivant</div>
              </div>                
            </div>
          </div>
        </div>

          <%# Partie 2 %>
          <div class="form-section-2 d-none" data-form-target="section2">
            <div class="row">
              <div class="col s7">
                <h5 class="mt-0">Sélectionnez des races pour votre univers </h2>
                <div class="form-races grid-4-cols">
                  <%= f.input :races,
                              placeholder: "Ajoutez des races",
                              collection: @races,
                              as: :check_boxes,
                              include_hidden: false,
                              input_html: { class: "tag-selector" },
                              item_wrapper_class: 'tag-item' %>
                </div>
              </div>
              <div class="col s5">
                <h5> Puis deux créatures mythiques </h5>
                <div class="form-myth-creatures">
                  <%= f.input :creatures,
                              placeholder: "Ajoutez deux créatures mythiques",
                              collection: @myth_creatures,
                              as: :check_boxes,
                              include_hidden: false,
                              input_html: { class: "tag-selector" },
                              item_wrapper_class: 'tag-item' %>
                </div>
                <div class="btn mt-2 w-full" data-form-target="formBtn2" data-action="click->form#hideSection2">Suivant</div>
              </div>
            </div>
          </div>

          <%# Partie 3 %>
          <div class="form-section-3 d-none" data-form-target="section3">
            <div class="first_section">
              <div class="row">
                

                <div class="col s5">
                  <div class="d-flex">
                    <h5> Créer une ville </h5>
                    <div class="btn mt-2" data-form-target="formBtn2" data-action="click->form#addCity">Ajouter une ville</div>
                  </div>                
                  <div class="form-city-sizes">
                    <%= f.input :city_1_name, placeholder: "Nom de la ville 1", label: 'Nom de la ville 1', label: false %>
                    <%= f.input :city_1_size,
                                label: 'Taille de la ville 1',
                                collection: ['Petite', 'Moyenne', 'Grande'],
                                as: :radio_buttons,
                                input_html: { class: "tag-selector" },
                                item_wrapper_class: 'tag-item' %>
                    <%= f.input :city_1_building_1, placeholder: "Bâtiment 1", label: 'Ajoutez un bâtiment à la ville 1', label: false %>
                    <%= f.input :city_1_building_2, placeholder: "Bâtiment 2", label: 'Ajoutez un 2ème bâtiment à la ville 1', label: false %>
                  </div>
              
                  <div class="form-city-sizes d-none mt-4" data-form-target="secondCity">
                    <%= f.input :city_2_name, placeholder: "Nom de la ville 2", label: 'Nom de la ville 2', label: false %>
                    <%= f.input :city_2_size,
                                label: 'Taille de la ville 2',
                                collection: ['Petite', 'Moyenne', 'Grande'],
                                as: :radio_buttons,
                                input_html: { class: "tag-selector" },
                                item_wrapper_class: 'tag-item' %>
                    <%= f.input :city_2_building_1, placeholder: "Ajoutez un bâtiment à la ville 2", label: 'Ajoutez un bâtiment à la ville 2', label: false %>
                    <%= f.input :city_2_building_2, placeholder: "Ajoutez un deuxième bâtiment à la ville 2", label: 'Ajoutez un 2ème bâtiment à la ville 2', label: false %>
                  </div>
                </div>

                <div class="col s2"></div>

                <div class="col s5">
                  <h5>Géographie</h5>
                  <div class="col s6 grid-cols-2">
                    <div class="form-geography">
                      <%= f.input :geography,
                      label: 'Eléments géographiques',
                      collection: ['Plaines', 'Désert', 'Forêt', 'Montagne'],
                      as: :check_boxes,
                      include_hidden: false,
                      input_html: { class: "tag-selector" },
                      item_wrapper_class: 'tag-item' %>
                    </div>
                  </div>
                  <div class="col s12">
                    <%= f.input :bible, :as => :hidden, :input_html => { :value => '' }, class:'w-full' %>
                    <div class="form-submit mt-2">
                      <%= f.button :submit %>
                    </div>
                  </div>
                </div>


              <div class="row center">
                
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>


<%# <%= simple_form_for @party do |f| %>
<%#   <%= f.input :name, label: 'Nom de la partie' %>
<%#   <% f.input :bible, :as => :hidden, :input_html => { :value => 'blblblblbl' } %>
<%# <%= f.input :universe_id, collection: @universes, label_method: :universe_type %>
<%#   <%= f.input :player_1, label: 'Joueur 1', required: true %>
<%#   <%= f.input :player_2, label: 'Joueur 2' %>
<%#   <%= f.input :player_3, label: 'player_3' %>
<%#   <%= f.input :player_4, label: 'player_4' %>
<%#   <%= f.input :player_5, label: 'player_5' %>
<%#   <%= f.input :player_6, label: 'player_6' %>
<%#   <%= f.input :player_7, label: 'player_7' %>
<%#   <%= f.input :player_8, label: 'player_8' %>
<%#   <%= f.input :player_9, label: 'player_9' %>
<%#   <%= f.input :player_10, label: 'player_10' %>
<%#   <%= f.input :party_size, label: 'party_size' %>
<%#   <%= f.input :race_1_name, label: 'race_1_name' %>
<%#   <%= f.input :race_2_name, label: 'race_2_name' %>
<%#   <%= f.input :race_3_name, label: 'race_3_name' %>
<%#   <%= f.input :universe_type, label: 'universe_type' %>
<%#   <%= f.input :geography_1, label: 'geography_1' %>
<%#   <%= f.input :geography_2, label: 'geography_2' %>
<%#   <%= f.input :city_1_name, label: 'city_1_name' %>
<%#   <%= f.input :city_1_size, label: 'city_1_size' %>
<%#   <%= f.input :city_1_building_1, label: 'city_1_building_1' %>
<%#   <%= f.input :city_1_building_2, label: 'city_1_building_2' %>
<%#   <%= f.input :city_2_name, label: 'city_2_name' %>
<%#   <%= f.input :city_2_size, label: 'city_2_size' %>
<%#   <%= f.input :city_2_building_1, label: 'city_2_building_1' %>
<%#   <%= f.input :city_2_building_2, label: 'city_2_building_2' %>
<%#   <%= f.input :mythical_creature_1_name, label: 'mythical_creature_1_name' %>
<%#   <%= f.input :mythical_creature_2_name, label: 'mythical_creature_2_name' %>
<%#   <%= f.button :submit %>
<%# <% end %>
